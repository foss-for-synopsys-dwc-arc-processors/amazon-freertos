CRYPTO_DIR = $(AWS_FREERTOS_ROOT)/lib/crypto

##
# \brief lib component related dirs
##
CRYPTO_CSRCDIR = $(CRYPTO_DIR)
CRYPTO_ASMSRCDIR = $(CRYPTO_DIR)
CRYPTO_INCDIR =

# find all the source files in the target directories
CRYPTO_CSRCS = $(call get_csrcs, $(CRYPTO_CSRCDIR))
CRYPTO_ASMSRCS = $(call get_asmsrcs, $(CRYPTO_ASMSRCDIR))

# get object files
CRYPTO_COBJS = $(call get_aws_relobjs, $(CRYPTO_CSRCS))
CRYPTO_ASMOBJS = $(call get_aws_relobjs, $(CRYPTO_ASMSRCS))
CRYPTO_OBJS = $(CRYPTO_COBJS) $(CRYPTO_ASMOBJS)

# get dependency files
CRYPTO_DEPS = $(call get_deps, $(CRYPTO_OBJS))

# genearte library
AWS_LIB_CRYPTO = $(AWS_FREERTOS_OUT_DIR)/libcrypto.a

# library generation rule
$(AWS_LIB_CRYPTO): $(CRYPTO_OBJS)
	$(TRACE_ARCHIVE)
	$(Q)$(AR) $(AR_OPT) $@ $(CRYPTO_OBJS)


AWS_FREERTOS_INCDIR += $(CRYPTO_INCDIR)
AWS_FREERTOS_CSRCDIR += $(CRYPTO_CSRCDIR)
AWS_FREERTOS_ASMSRCDIR += $(CRYPTO_ASMSRCDIR)

AWS_FREERTOS_CSRCS += $(CRYPTO_CSRCS)
AWS_FREERTOS_CXXSRCS +=
AWS_FREERTOS_ASMSRCS += $(CRYPTO_ASMSRCS)
AWS_FREERTOS_ALLSRCS += $(CRYPTO_CSRCS) $(CRYPTO_ASMSRCS)

AWS_FREERTOS_COBJS += $(CRYPTO_COBJS)
AWS_FREERTOS_CXXOBJS +=
AWS_FREERTOS_ASMOBJS += $(CRYPTO_ASMOBJS)
AWS_FREERTOS_ALLOBJS += $(CRYPTO_OBJS)

AWS_FREERTOS_DEFINES += $(CRYPTO_DEFINES)
AWS_FREERTOS_DEPS += $(CRYPTO_DEPS)
AWS_FREERTOS_LIBS += $(AWS_LIB_CRYPTO)
